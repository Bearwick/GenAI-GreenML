# Generated by generate_llm_code.py
# LLM: gemini
# Mode: original_telemetry

import pandas as pd
from sklearn.model_selection import train_test_split
from sklearn.preprocessing import StandardScaler, LabelEncoder
from sklearn.pipeline import Pipeline
from sklearn.linear_model import LogisticRegression
from sklearn.metrics import accuracy_score

df = pd.read_csv("Iris.csv")

if "Id" in df.columns:
    df.drop(columns=["Id"], inplace=True)

label_encoder = LabelEncoder()
df["Species"] = label_encoder.fit_transform(df["Species"])

X = df.drop("Species", axis=1)
y = df["Species"]

X_train, X_test, y_train, y_test = train_test_split(
    X, y, test_size=0.2, random_state=42, stratify=y
)

pipeline = Pipeline([
    ("scaler", StandardScaler()),
    ("model", LogisticRegression(max_iter=200))
])

pipeline.fit(X_train, y_train)
y_pred = pipeline.predict(X_test)

accuracy = accuracy_score(y_test, y_pred)

print(f"ACCURACY={accuracy:.6f}")

# OPTIMIZATION SUMMARY
# - Removed original comments and documentation strings.
# - Removed visualization libraries (matplotlib and seaborn) and associated plotting code.
# - Removed all original print statements, classification reports, and confusion matrix displays.
# - Removed cross-validation logic to focus on the primary model evaluation.
# - Cleaned up imports to include only necessary components for the model pipeline and evaluation.
# - Maintained the original model architecture (Logistic Regression with StandardScaler in a Pipeline).
# - Ensured the output follows the strict accuracy formatting requirement.